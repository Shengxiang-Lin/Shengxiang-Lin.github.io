---
layout: compress
---

<!doctype html>
<html lang="en" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  </head>

  <body>

    {% include browser-upgrade.html %}
    {% include masthead.html %}

    <!-- 修改按钮 ID 与 JavaScript 代码中的 ID 一致 -->
    <button id="language-switcher">中文/English</button>

    <div id="main" role="main">
      {% include sidebar.html %}
    
      <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
        {% if page.title %}<meta itemprop="headline" content="{{ page.title | markdownify | strip_html | strip_newlines | escape_once }}">{% endif %}
        <div class="page__inner-wrap">
          <section class="page__content" id="page-content" itemprop="text">
            {{ content }}
          </section>
        </div>
      </article>
    </div>

    <script>
      let currentLanguage = 'en';
      // 修改为使用正确的按钮 ID
      const switchButton = document.getElementById('language-switcher');
      const pageContent = document.getElementById('page-content');

      function loadContent(lang) {
        const filePath = `_pages/about-${lang}.md`;
        fetch(filePath)
          .then(response => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.text();
          })
          .then(data => {
            const html = marked.parse(data);
            pageContent.innerHTML = html;
          })
          .catch(error => {
            console.error('Error loading content:', error);
            // 可以在这里添加一些提示信息给用户
            pageContent.innerHTML = `<p>Error loading content for ${lang} language. Please check the file path or try again later.</p>`;
          });
      }

      switchButton.addEventListener('click', function () {
        if (currentLanguage === 'en') {
          currentLanguage = 'zh';
          switchButton.textContent = 'Switch to English';
        } else {
          currentLanguage = 'en';
          switchButton.textContent = 'Switch to Chinese';
        }
        loadContent(currentLanguage);
      });

      // 初始加载英文内容
      loadContent(currentLanguage);
    </script>

    {% include scripts.html %}

  </body>
</html>
